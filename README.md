Factory with Deferred and Promise

